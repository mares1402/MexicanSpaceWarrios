<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comparador de Espectros de Terra</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" type="image/png" href="imgs/page-icon.jpg" />
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>

<body>
  <!-- Intro Video Container -->
  <div id="intro-video-container">
    <video id="intro-video" src="animations/Intro.mp4" autoplay muted playsinline></video>
  </div>

  <!-- Starry background -->
  <canvas id="stars"></canvas>
  <!-- NASA Logo -->
  <div class="logo-container">
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/e/e5/NASA_logo.svg" alt="NASA Logo">
  </div>

  <div class="top-controls">
    <!-- Manual year selector -->
    <div class="manual-selector">
      <button id="prev" disabled>←</button>
      <button id="next" disabled>→</button>
    </div>

    <!-- Selector de Rango de Años -->
    <div class="range-selector">
      <div class="year-input">
        <label for="start-year">From:</label>
        <select id="start-year" disabled></select>
      </div>
      <div class="year-input">
        <label for="end-year">To:</label>
        <select id="end-year" disabled></select>
      </div>
      <button id="play-animation" disabled>▶️ Animate</button>
    </div>

    <!-- Spectrums combo box -->
    <select id="spectrums">
      <!-- <option value="aster">ASTER</option> -->
      <!-- <option value="ceres">CERES</option> -->
      <!-- <option value="misr">MISR</option> -->
      <option value="modis">MODIS</option>
      <!-- <option value="mopitt">MOPITT</option> -->
    </select>
  </div>

  <!-- Display for the current animation year -->
  <div class="year-display" id="year">...</div>

  <!-- Content -->
  <div class="content">
    <div class="image-container">
      <a-scene embedded>
        <!-- 1. Load the texture as an asset -->
        <a-assets id="image-assets">
          <canvas id="dynamic-texture-canvas" width="4096" height="2048"></canvas>
        </a-assets>
        <!-- Lights to illuminate the scene -->
        <a-light type="ambient" color="#666"></a-light>

        <!-- 1. Add a camera and place a 'point' light inside it -->
        <a-camera position="0 1.6 0">
          <a-light type="point" intensity="0.75"></a-light>
        </a-camera>

        <!-- 2. Apply the texture to the sphere using the 'src' attribute -->
        <a-sphere id="terra-sphere" position="0 1.2 -4" radius="2" src="#dynamic-texture-canvas" conditional-rotation="speed: 10"></a-sphere>
      </a-scene>
    </div>
  </div>

  <!-- Scripts -->
  <script src="index.js" defer></script>
  <script src="vr.js" defer></script>

</body>

</html>